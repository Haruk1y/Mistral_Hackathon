# App runtime
NODE_ENV=development

# Firebase client (web app)
NEXT_PUBLIC_FIREBASE_API_KEY=
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=
NEXT_PUBLIC_FIREBASE_PROJECT_ID=
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=
NEXT_PUBLIC_FIREBASE_APP_ID=
NEXT_PUBLIC_FIREBASE_FUNCTIONS_REGION=us-central1

# Optional direct callable base URL (for emulator/self-hosted adapters)
# NEXT_PUBLIC_FIREBASE_FUNCTIONS_BASE_URL=http://127.0.0.1:5001/<project-id>/us-central1

# Feature flags
FEATURE_VOICE_REQUESTS=false
FEATURE_WANDB_WEAVE=true
FEATURE_FINETUNE_EXPORT=true
FEATURE_SHARE_LINKS=true

# Mistral
MISTRAL_API_KEY=
MISTRAL_BASE_MODEL=mistral-small-latest
MISTRAL_TEACHER_MODEL=mistral-large-latest
MISTRAL_FINE_TUNED_MODEL_ID=

# Hugging Face fallback (legacy)
HF_API_TOKEN=
# Optional: pin game inference to a specific FT run model (run1, run2, ...)
HF_RUN1_MODEL_ID=
HF_MISTRAL_MODEL_ID=mistralai/Ministral-3-3B-Instruct-2512

# Hugging Face fine-tuning (primary)
HF_TOKEN=
HF_NAMESPACE=Haruk1y
HF_BASE_MODEL_ID=mistralai/Ministral-3-3B-Instruct-2512
HF_FT_DATASET_REPO_ID=Haruk1y/atelier-kotone-ft-request-hidden
HF_FT_DATASET_CONFIG=
HF_FT_TRAIN_SPLIT=train
HF_FT_VALID_SPLIT=validation
HF_FT_OUTPUT_MODEL_ID=Haruk1y/atelier-kotone-ministral3b-ft
HF_FT_OUTPUT_DIR=outputs/ministral3b-request-hidden
HF_FT_OBJECTIVE=next_token_json_sft
HF_FT_RUN_NAME=ministral3b-request-hidden-nexttoken
HF_FT_TARGET_SCALE=10
HF_FT_EPOCHS=2
HF_FT_LR=0.00002
HF_FT_BATCH_SIZE=2
HF_FT_GRAD_ACCUM=8
HF_FT_WARMUP_RATIO=0.1
HF_FT_MAX_LENGTH=768
HF_FT_LOGGING_STEPS=1
HF_FT_EVAL_STEPS=25
HF_FT_DETAILED_EVAL_STEPS=25
HF_FT_HARD_CASE_TOP_K=80
HF_FT_LORA_R=16
HF_FT_LORA_ALPHA=32
HF_FT_LORA_DROPOUT=0.05
HF_JOB_FLAVOR=a10g-small
HF_JOB_TIMEOUT=2h
HF_JOB_SUBMIT=false
HF_UPLOAD_SUBMIT=false
BALANCED_CAMPAIGN_SUBMIT=false
BALANCED_CAMPAIGN_NAME=balanced_6run

# Dynamic self-improvement loop
LOOP_CYCLE_ID=cycle_1
FT_TARGET_SCALE=10
LOOP_BASE_DATA_PATH=data/ft/teacher_pairs.filtered.jsonl
LOOP_MERGED_OUTPUT_PATH=data/ft/teacher_pairs.cycle_1.jsonl
LOOP_ADD_RATIO=0.2
LOOP_HARD_CASE_REPLAY_RATIO=0.15
CYCLE1_DATASET_REPO_ID=
CYCLE1_AUG_DATASET_REPO_ID=
CYCLE2_DATASET_REPO_ID=
CYCLE2_AUG_DATASET_REPO_ID=

# ElevenLabs
ELEVENLABS_API_KEY=
ELEVENLABS_MUSIC_ENDPOINT=https://api.elevenlabs.io/v1/music
ELEVENLABS_MODEL_ID=music_v1
ELEVENLABS_MUSIC_LENGTH_MS=20000
ELEVENLABS_FORCE_INSTRUMENTAL=true
ELEVENLABS_MAX_RETRIES=2
ELEVENLABS_ALLOW_FALLBACK_AUDIO=false

# Mistral Managed FT (secondary / comparison only)
MISTRAL_FT_MODEL_ID=ministral-3b-latest
MISTRAL_FT_AUTO_START=false
MISTRAL_TRAINING_FILE_IDS=
MISTRAL_VALIDATION_FILE_IDS=
MISTRAL_FT_TRAINING_STEPS=800
MISTRAL_FT_LR=0.0002

# W&B / Weave
WANDB_API_KEY=
WANDB_PROJECT=atelier-kotone-ft
WANDB_ENTITY=
WANDB_RUN_GROUP=hf-ft-balanced
WEAVE_PROJECT=atelier-kotone-weave
WEAVE_TRACE_TAGS=dataset_version,model_id,run_id,scenario,mode
WANDB_MCP_ENABLED=true
WANDB_MCP_BASE_URL=https://mcp.withwandb.com/mcp
WANDB_MCP_USE_FALLBACK_API=true
WANDB_MCP_TOP_K=20
EVAL_WEAVE_ENABLED=true
EVAL_WANDB_ENABLED=true
EVAL_DATASET_PATH=data/eval/frozen_eval_set.v1.json
EVAL_TARGET_SCALE=10
EVAL_PROMPT_BASELINE_MODEL_ID=mistralai/Ministral-3-3B-Instruct-2512
EVAL_FINE_TUNED_MODEL_ID=Haruk1y/atelier-kotone-ministral3b-ft
EVAL_TOP_FAILURES=20
ENABLE_WEAVE_TRACE=true
ENABLE_TRACKIO=false
TRACKIO_PROJECT=atelier-kotone-ft
TRACKIO_SPACE_ID=

# Cost accounting defaults
DEFAULT_COST_PER_1K_REQUEST_USD=0.0

# Eval dataset generation
EVAL_REQUEST_GENERATOR=synthetic
EVAL_TEACHER_LANG=en
EVAL_TEACHER_MAX_RETRIES=2
EVAL_TEACHER_TEMPERATURE=0.2
EVAL_TEACHER_ALLOW_FALLBACK=false
